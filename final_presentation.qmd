---
title:  Regional Dynamics of Australian Housing Indexes
author: Yiran Yao 
date: today
toc: true
format:
  presentation-beamer: default
  presentation-revealjs+letterbox: default
---

```{r}
#| label: load-packages
library(knitr)
library(tidyverse)
library(dplyr)
library(janitor)
library(knitr)
library(kableExtra)
```

```{r, echo = FALSE, message = FALSE, warning = FALSE}
# Raw housing index 
city_indexes <- read_csv("../data/city_indexes.csv")
sa4_indexes <- read_csv("../data/sa4_indexes.csv")

# PC proxy with identified characteristic
factor_trends <- read_csv("../data/df_factor_trends.csv")

# Static regression coef 
reg_coefs <- read_csv("../data/df_reg_coefs.csv") 

# PC score and loadings
pcs <- read_csv("../data/df_pcs.csv")
eofs_city <- read_csv("../data/df_eofs_city.csv")
eofs_sa4 <- read_csv("../data/df_eofs_sa4.csv")

# Cleaning names 
city_indexes <- city_indexes |> 
  clean_names() 

# Remove duplicated ACT row
reg_coefs <- reg_coefs |>
  filter(!(region == "AUSTRALIAN CAPITAL TERRITORY" & duplicated(region)))
```

# Background and Methodology

## Background 

In real estate, key questions shape both professional strategy and academic research, guiding long-term policy and investment decisions. These include:

-   How can we predict housing prices at the local level?
-   What drives price fluctuations over time?
-   Which regions will gain desirability or investment potential in the coming decade?

Existing methods work but rely on multiple data sources that require cleaning and alignment with housing indexes.


## Methodology 

W. Silp proposed a PCA-based framework for housing index analysis. We extend it with time series forecasting and multivariate regression using 29 years of housing data available. 

### General pipeline

\begin{center}\small
Input indexes $\rightarrow$
PCA (PC1/PC2/PC3...) $\rightarrow$
PC proxies: Factors $\rightarrow$
ARIMA modelling on factors $\rightarrow$
Regional OLS $\rightarrow$
ARIMAX for region specific autocorrelation $\rightarrow$
Moving window OLS $\rightarrow$
Forecast and uncertainty
\end{center}

## From PCA to Factor Proxies 

-   PCA identified three main drivers of house prices: national, mining, and lifestyle, explaining 96.5% of variation.

-   Abstract components were replaced with factor series (>96% correlated) for direct regression and forecasting, built as weighted averages of regional indexes using PCA loadings. For example, the mining factor (PC2): 

$$
\delta_{PS}(t)
= \mu_P(t)
- \frac{\operatorname{cov}(\mu_P, U)}{\operatorname{cov}(\mu_S, U)}\, \mu_S(t)
$$

# Forecast and Results 

## EDA 

-   The market factor shows long-term growth, a structural shift during the pandemic and remains volatile.

-   The mining factor rises, drops and fluctuates, reflecting resource-sector shifts.

-   Neither factor shows seasonality; variation is driven by long-term structural changes. These non-seasonal trends suggest forecasting should emphasize regime shifts and structural breaks over seasonal adjustments.

## Forecasting Factors: National 

-   The national factor is non-stationary and resembles a random walk with drift.ARIMA(0,1,0) was used as a benchmark and compared with neighboring models using AICc and Ljung-Box statistics.

-   None passed the Ljung-Box test at 5%, likely due to subtle fluctuations; this was addressed downstream via ARIMAX.

-   ARIMA(1,1,0) was selected for its simplicity, assumption alignment, and residuals showing no visible trend or seasonality.

## Forecasting Factors: Mining 

The mining factor exhibits a temporary structural break due to the mining boom. This was addressed using dummy variables as exogenous regressors. Residual dynamics were modeled with ARIMA(2,1,1), which satisfied the Ljung-Box test.

\begin{center}
\includegraphics[width=0.7\linewidth]{fig/mining_strbreak.jpg}
\end{center}

## Test Set Performance & Prediction Interval 

The market factor yields low forecast error (RMSE = 0.0144, MAE = 0.0131), consistent with its stable dynamics. The mining factor exhibits higher error (RMSE = 0.0214, MAE = 0.0180), reflecting its greater volatility and cyclical nature.

Ten-year forecasts show a rising market trend and a stable mining path, with reduced volatility from excluding boom–bust effects.

:::{.columns}
::: {.column width="50%"}
![](fig/pi80_market.jpg){width=100%}
:::

::: {.column width="50%"}
![](fig/pi80_mining.jpg){width=100%}
:::
:::



# Model Enhancements and Conclusion

## Current Model 

-   Residuals show strong autocorrelation, reflecting the persistent nature of housing price movements.

-   Model fit varies spatially, with mining-exposed regions showing weaker R² and more dispersed coefficients.

-   Static coefficients limit temporal adaptability, failing to capture evolving links between regional and national factors.

:::{.columns}
::: {.column width="50%"}
![](fig/r2.jpg){width=100%}
:::

::: {.column width="50%"}
![](fig/coef_dist.jpg){width=100%}
:::
:::



## Model Enhancement: ARIMAX 
-  ARIMAX extends ARIMA by adding exogenous regressors and modeling serial dependence, with orders chosen via grid search. Five models were fitted; 75 of 88 regions passed diagnostic checks.

-   Under ARIMAX, lifestyle effects weaken slightly in lifestyle regions, mining effects soften in mining regions, while market coefficients remain largely stable.

\begin{center}
\includegraphics[width=0.7\linewidth]{fig/arimax_ols_comp.jpg}
\end{center}

## Model Enhancement: Moving Window 

-   We extended the sample to test stability in factor–housing relationships as new data was added.

-   OLS was refitted using data up to Nov 2022 and Nov 2024 to assess coefficient changes.

-   Intercept and market effects shifted slightly; mining and lifestyle remained stable. A moving window could improve temporal robustness.

```{r}
tbl_change <- tribble(
~factor, ~mean_change, ~sd_change,
"intercept", 0.0642788718, 0.010301300,
"lifestyle", 0.0014197803, 0.008310492,
"market", 0.0318599228, 0.005433903,
"mining", -0.0004912184, 0.002640947
)

kbl(tbl_change,
digits = 4) |>
kable_styling(full_width = FALSE, font_size = 10)
```


# Applications & Insights  

## Coming Together: Predicting housing price of Melbourne 

(placeholder - slide too long, consider to remove, TBD)

Outline: 
-   Forecasted factors combined with arimax coefficient -> resulting values 
-   Forecast plot
-   What do we learn 

## Interesting Findings 

(TBD)

## Moving Onward 

-   Limitations: The current model effectively captures national and mining trends but excludes broader macroeconomic and social drivers such as interest rates and migration. It remains highly data-driven, with limited economic interpretation, and the 29-year time span restricts our ability to capture longer housing cycles or rare structural shifts.

-   Next steps: We aim to refine the lifestyle factor to complete the multi-factor framework and incorporate key macroeconomic indicators, such as GDP, exchange rates, and interest rates to strengthen both forecast accuracy and interpretability.
